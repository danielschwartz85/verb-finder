<!DOCTYPE html>
<html lang="en">
<head>
  <title>××•×¦× ×¤×¢×œ×™×</title>
  <link rel="shortcut icon" href="eye.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    /* Form  */
    #search {
      width: 320px;
      margin: 45px auto;
    }
    .group {
      position: relative;
      margin: 45px 0;
    }
    input {
      background: none;
      /* color: #c6c6c6; */
      font-size: 18px;
      padding: 10px 10px 10px 5px;
      display: block;
      width: 300px;
      border: none;
      border-radius: 0;
      border-bottom: 1px solid #c6c6c6;
    }
    input:focus {
      outline: none;
    }
    input:focus ~ .bar:before{
      width: 325px;
    }
    .bar {
      position: relative;
      display: block;
      width: 325px;
    }
    .bar:before {
      content: '';
      height: 2px;
      width: 0;
      bottom: 0px;
      position: absolute;
      background: #7b22bf;
      -webkit-transition: 300ms ease all;
      transition: 300ms ease all;
      left: 0%;
    }
    .btn {
      background: #fff;
      color: #959595;
      border: none;
      padding: 10px 20px;
      border-radius: 3px;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      text-decoration: none;
      outline: none;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
      -webkit-transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
      transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    }
    .btn:hover {
      color: #7b22bf;
      box-shadow: 0 7px 14px rgba(0, 0, 0, 0.18), 0 5px 5px rgba(0, 0, 0, 0.12);
    }
    .btn.btn-link {
      background: #2196F3;
      color: #d3eafd;
    }
    .btn.btn-link:hover {
      background: #0d8aee;
      color: #deeffd;
    }
    .btn.btn-submit {
      background: #7b22bf;
      color: white;
    }
    .btn.btn-submit:hover {
      background: #7b22bf;
      color: #deeffd;
    }
    .btn-box {
      text-align: center;
    }

    /* Table */
    table {
      font-family: arial, sans-serif;
      border-collapse: collapse;
      width: 80%;
      align-items: center;
      margin: auto;
      padding: 10px;
      margin-bottom: 25px;
      text-align: center;
    }
    td, th {
      border: 1px solid #dddddd;
      text-align: center;
      padding: 8px;
    }
    tr:nth-child(even) {
      background-color: #af6ae6;
    }
    h2 {
      text-align: center;
    }
    footer {
      text-align: center;
      margin-bottom: 20px;
      margin-top: 30px
    }
  </style>
</head>
<body onload="loaded()">
  <script>
    window.eyes = [
    {
        "actions": [
            "×.×‘.×“",
            "×.×”.×‘",
            "×.×—.×“",
            "×.×›.×œ",
            "×‘.×˜.×—",
            "×’.×‘.×œ",
            "×’.×©.×",
            "×”.×¨.×¡",
            "×–.×.×Ÿ",
            "×—.×‘.×¨",
            "×—.×•.×”",
            "×—.×œ.×§",
            "×™.×—.×“",
            "×›.×.×‘",
            "×›.×¢.×¡",
            "×œ.×.×“",
            "×œ.×§.×—",
            "×.×—.×œ",
            "×.×.×©",
            "×.×¦.×",
            "× .×—",
            "× .×¢",
            "×¡.×™.×¢",
            "×¡.×œ.×—",
            "×¢.×›.×œ",
            "×¤.×¡.×§",
            "×§.×”.×œ",
            "×§.× .×",
            "×§.× .×”",
            "×§.×¨.×‘",
            "×¨.×‘",
            "×¨.×’.×©",
            "×¨.×•.×”",
            "×¨.×—.×‘",
            "×¨.×¢.×©",
            "×©.×›.×œ",
            "×©.×ª.×£",
            "×ª.×.×š"
        ],
        "name": "× ×’×–×¨×ª ×§×˜×™×¤×ª×™×ª",
    },
    {
        "actions": [
            "×.×’.×¨",
            "×.×–.×Ÿ",
            "×‘.×“.×“",
            "×‘.×œ.×˜",
            "×“.×™.×§",
            "×“.×¢",
            "×–.×¢.×¨",
            "×—.×™.×‘",
            "×—.×œ.×",
            "×—.×œ.×¥",
            "×—.×.×œ",
            "×—.× .×š",
            "×—.× .×§",
            "×—.×¨.×“",
            "×—.×¨.×",
            "×˜.×.×¢",
            "×˜.×¨.×“",
            "×›.×‘.×“",
            "×›.×¤.×”",
            "×œ.×—.×",
            "×œ.×—.×¥",
            "×.×§.×“",
            "×.×ª.×—",
            "× .×©.×",
            "×¡.×›.×",
            "×¡.×¤.×’",
            "×¢.×™.×£",
            "×¢.×›.×œ",
            "×¢.×©.×”",
            "×¤.×–.×¨",
            "×¤.×—.×“",
            "×¤.× .×",
            "×¤.×¡.×§",
            "×¤.×¨.×§",
            "×¦.×‘.×¨",
            "×¦.×¢.×§",
            "×§.×‘.×œ",
            "×§.×¨.×”",
            "×¨.×’.×¢",
            "×¨.×—.×§",
            "×ª.×.×š"
        ],
        "name": "× ×’×–×¨×ª ×©×¤× ×™×/×©××©"
    },
    {
        "actions": [
            "×.×‘.×“",
            "×.×”.×‘",
            "×.×–.× ",
            "×’.×¢",
            "×“.×.×’",
            "×“.×¢",
            "×“.×¨.×©",
            "×”.×©.×’",
            "×—.×‘.×¨",
            "×—.×–.×§",
            "×—.×–.×¨",
            "×—.×˜.×˜",
            "×—.×œ.×©",
            "×—.×.×¥",
            "×—.×§.×¨",
            "×™.×’.×¢",
            "×™.×©.×Ÿ",
            "×.×“.×“",
            "× .×”.×œ",
            "× .×¢.×œ",
            "×¡.×›.×œ",
            "×§.×¦.×”",
            "×¨.×’.×¢",
            "×¨.×›.×š",
            "×©.×™.×š",
            "×¨.×¦.×”",
            "×©.×œ.×˜"
        ],
        "name": "× ×’×–×¨×ª ×§×•×•×™×ª"
    },
    {
        "actions": [
            "×.×’.×¨",
            "×.×–.×Ÿ",
            "×‘.×˜.×",
            "×“.×—.×”",
            "×”.×’.×Ÿ",
            "×—.×–.×¨",
            "×—.×™.×‘",
            "×—.×¡.×Ÿ",
            "×›.×•.×Ÿ",
            "×.×¨",
            "× .×©.×",
            "×¡.×™.×¢",
            "×¢.×›.×œ",
            "×¢.×¦.×¨",
            "×¢.×§.×©",
            "×¦.×‘.×¨",
            "×¨.×—.×‘",
            "×©.× .×”",
            "×ª.×.×š"
        ],
        "name": "× ×’×–×¨×•×ª ×‘×™×Ÿ ×©××™×™× ×œ××¨×¥"
    },
    {
        "actions": [
            "×.×”.×‘",
            "×.×.×Ÿ",
            "×‘.×˜.×—",
            "×‘.×—.×¨",
            "×”.×•.×”",
            "×”.×§.×œ",
            "×–.×›.×¨",
            "×–.×.×Ÿ",
            "×—.×‘.×¨",
            "×—.×–.×§",
            "×—.×.×¥",
            "×œ.×§.×—",
            "×¢.×“.×“",
            "×¢.×¦.×",
            "×¨.×’.×©",
            "×ª.×.×š"
        ],
        "name": "× ×’×–×¨×ª ×¤×¨×—"
    },
    {
        "actions": [
            "×—.×–.×§",
            "×œ.×—.×",
            "×.×¦.×",
            "× .×ª.×Ÿ",
            "×¤.×˜.×¨",
            "×¤.×ª.×¨",
            "×§.×¦.×”",
            "×©.×‘.×¨",
            "×ª.×§.×¢"
        ],
        "name": "× ×’×–×¨×ª ×—×œ×•×œ×”"
    },
    {
        "actions": [
            "×.×.×Ÿ",
            "×’.×¢",
            "×”.×•.×”",
            "×•.×“.×”",
            "×–.×›.×¨",
            "×–.×¨.×",
            "×—.×©.×‘",
            "×—.×©.×“",
            "×˜.×.×¢",
            "×˜.×¢.×”",
            "×˜.×¢.×Ÿ",
            "×›.×‘.×“",
            "×¡.×‘.×œ",
            "×¡.×“.×¨",
            "×¡.×—.×‘",
            "×¢.×‘.×¨",
            "×¤.×¡.×§",
            "×¤.×ª.×—",
            "×§.×©.×”",
            "×¨.×’.×©",
            "×©.×.×—",
            "×©.×.×¨",
            "×©.× .×”",
            "×©.×§.×˜",
            "×ª.×”.×”",
            "×ª.×.×š"
        ],
        "name": "× ×’×–×¨×ª ×× ×•×§×“×ª"
    },
    {
        "actions": [
            "×‘.×“.×“",
            "×’.×‘.×œ",
            "×“.×—.×”",
            "×“.×›.×",
            "×–.×¨.×",
            "×—.×‘.×¨",
            "×—.×¡.×š",
            "×™.×¨.×“",
            "×›.×‘.×“",
            "×¡.×’.×¨",
            "×¢.×“.×“",
            "×¢.×œ.×”",
            "×¢.×¦.×¨",
            "×¢.×¨.×¢.×¨",
            "×¦.×.×¦.×",
            "×§.×”.×œ",
            "×§.×.×¥",
            "×¨.×.×”",
            "×©.×‘.×¨"
        ],
        "name": "× ×’×–×¨×ª ××•×›×ª××ª"
    },
    {
        "actions": [
            "×.×.×¥",
            "×”.×§.×œ",
            "×•.×›.×—",
            "×—.×œ.×˜",
            "×—.×.×¨",
            "× .×’.×¢",
            "×¡.×’.×¨",
            "×¡.×›.×",
            "×¢.×‘.×“",
            "×¢.×.×“",
            "×¢.×§.×©",
            "×¢.×œ.×",
            "×¨.×.×”",
            "×¨.×’.×©",
            "×©.×›.×—"
        ],
        "name": "× ×’×–×¨×ª ×”×™×œ×”"
    },
    {
        "actions": [
            "×.×©.×",
            "×‘.×§.×¨",
            "×’.×–.×",
            "×“.×œ.×§",
            "×“.×¢",
            "×“.×¨.×©",
            "×”.×©.×’",
            "×–.×¢.×",
            "×—.×˜.×˜",
            "×—.×.×¥",
            "×—.×¡.×¨",
            "×™.×ª.×¨",
            "×›.×œ.×”",
            "×›.×¢.×¡",
            "×.×¨.×.×¨",
            "×¡.×‘.×œ",
            "×¡.×“.×¨",
            "×¡.×¤.×§",
            "×¢.×¦.×",
            "×¢.×§.×©",
            "×¤.×—.×ª",
            "×¤.×¨.×§",
            "×§.×¦.×”",
            "×©.×.×‘",
            "×©.×•.×”",
            "×©.×™.×—",
            "×ª.×‘.×¢"
        ],
        "name": "× ×’×–×¨×ª ×œ×‘× ×” ××• ×¦×”×•×‘×”"
    },
    {
        "actions": [
            "×.×–.×Ÿ",
            "×‘.×˜.×",
            "×“.×—.×”",
            "×–.×¨.×§",
            "×—.×–.×¨",
            "×—.×™.×‘",
            "×™.×¦.×",
            "× .×©.×",
            "×¡.×™.×¢",
            "×¡.×¤.×’",
            "×¢.×›.×œ",
            "×¦.×‘.×¨",
            "×§.×‘.×œ",
            "×¨.×’.×©",
            "×¨.×¦.×”"
        ],
        "name": "× ×’×–×¨×ª ×¦×‘×¢×•× ×™×ª"
    }
  ]
  </script>
  <script>
    function buildDervis(eyes = window.eyes, notFoundtext = '') {
      const table = document.getElementById('derivs')
      table.innerHTML = eyes.length ? '' : notFoundtext;

      for (const eye of eyes) {
        const tr = document.createElement('tr')
        let td = document.createElement('td')
        let span = document.createElement('span')
        td.appendChild(span)
        tr.appendChild(td)

        for (const action of eye.actions) {
          let text;
          if (eye.found && eye.found.includes(action)) {
            text = document.createElement('mark')
          } else {
            text = document.createElement('span')
          }
          text.textContent = `${action},  `
          span.appendChild(text)
        }

        td = document.createElement('td')
        span = document.createElement('span')
        span.textContent = eye.name
        td.appendChild(span)
        tr.appendChild(td)
        table.appendChild(tr)
      }
    }
  
    function findVerb() {
      const verb = document.getElementById('verb-input').value
      if (!verb) { 
        buildDervis()
        return;
       }
      
      const verbList = fromVerbToVerbList(verb)
      const foundEyes = []
      for (const {name, actions} of eyes) {
        const found = actions.filter(a => verbList.includes(a))
        if (found.length) {
          foundEyes.push({name, actions, found})
        }
      }
      const notFoundtext = '×œ× × ××¦××• × ×’×–×¨×•×ª âœ…'
      buildDervis(foundEyes, notFoundtext)
    }

    function fromVerbToVerbList(verb) {
      let cleanVerb = verb.replace(/\s+/g,'')
      cleanVerb = cleanVerb.replace(/\./g, '')
      const verbArray  = cleanVerb.split('').map(toNonEndLetter)
      const verbsList = perm(verbArray).map(toEndLetter)
      return verbsList.map(arr => arr.join('.'))
    }

    function toEndLetter(verbArray) {
      const lastIes = {
        '×':'×',
        '× ':'×Ÿ',
        '×¦':'×¥',
        '×¤':'×£',
        '×›':'×š',
      }
      const lastLetter = verbArray[verbArray.length - 1];
      if (Object.keys(lastIes).includes(lastLetter)) {
        verbArray[verbArray.length - 1] = lastIes[lastLetter]
      }
      return verbArray;
    }

    function toNonEndLetter(char) {
      const lastIes = {
        '×':'×',
        '×Ÿ':'× ',
        '×¥':'×¦',
        '×£':'×¤',
        '×š':'×›',
      }
      return lastIes[char] || char
    }

    // Returns all the permutations of a given array:
    function perm(xs) {
      let ret = [];
      for (let i = 0; i < xs.length; i = i + 1) {
        let rest = perm(xs.slice(0, i).concat(xs.slice(i + 1)));

        if(!rest.length) {
          ret.push([xs[i]])
        } else {
          for(let j = 0; j < rest.length; j = j + 1) {
            ret.push([xs[i]].concat(rest[j]))
          }
        }
      }
      return ret;
    }

    function loaded() {
      const input = document.getElementById('verb-input');
      input.addEventListener("keyup", function(event) {
          if (event.key === "Enter") {
            findVerb()
          }
      });
      buildDervis();
    }
  </script>

  <div id="search">
    <div class="group">
      <input id="verb-input" placeholder=' ×“×•×’××: ××¦×  ×.×¦.×  ×¥××  ×¦.×.×'/><span class="highlight"></span><span class="bar"></span>
    </div>
    <div class="btn-box">
      <button class="btn btn-submit" onclick="findVerb()">××¦× ×¤×•×¢×œ</button>
    </div>
  </div>

  <!-- <h2>× ×’×–×¨×•×ª</h2> -->
  <table id="derivs">
  </table>
  <footer id="footer">Â© ×›×œ ×”×–×›×•×™×•×ª ×©××•×¨×•×ª ×œ×“"×¨ ×©×œ×•××™×ª ×ª××™×¨ Ph.D ğŸ§¿ ×‘×¨××™×” ××—×¨×ª, ××™×¨×™×“×•×¡×•×¤×™×” Â®</footer>
</body>
</html>
